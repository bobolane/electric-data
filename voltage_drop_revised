segments = int(input("Number of circuit segments: "))

print(" ")
if segments == 1:
  print("Ok, please enter the values for the circuit.")
  
print(" ")

def phase_modifier(phase):
  if phase == 1:
    return 2
  if phase == 3:
    return (3 ** .5)
def wire_modifier(wire_type):
  if wire_type == "cu":
    return 12.9
  if wire_type == "al":
    return 21.2
    
awg_to_circmils = {
  10: 10380,
  8: 16510,
  6: 26240
}

main_base_current = int(input("Current: "))
main_voltage = int(input("Voltage: "))
main_phase = int(input("Phase 1 or 3: "))

print(" ")

if segments > 1:
  print("Next, enter individual values for each segment.")

print(" ")

vd_values = []

if segments > 1:
  for segment in range(segments):
    print("Segment #", segment + 1)
    base_current = main_base_current
    voltage = main_voltage
    phase = main_phase
    wire_type = input("cu or al: ")
    length = int(input("Circuit Length: "))
    awg = int(input("AWG#: "))
    try:
      wire = awg_to_circmils[awg]
    except KeyError:
      print("Unrecognized wire gauge: please try again.")

    current = base_current * phase_modifier(phase) * wire_modifier(wire_type) * length

    numerator = current
    denominator = wire

    vd = numerator / denominator
    percentage_1 = (voltage - vd) / voltage
    percentage_2 = 1 - percentage_1
    final_calc = percentage_2 * 100
    vd_values.append(final_calc)
  
    print("VD for segment %s: %.3f%%." % (segment + 1, final_calc))
elif segments == 1:
  base_current = main_base_current
  voltage = main_voltage
  phase = main_phase
  wire_type = input("cu or al: ")
  length = int(input("Circuit Length: "))
  awg = int(input("AWG#: "))
  try:
    wire = awg_to_circmils[awg]
  except KeyError:
    print("Unrecognized wire gauge: please try again.")

  current = base_current * phase_modifier(phase) * wire_modifier(wire_type) * length

  numerator = current
  denominator = wire

  vd = numerator / denominator
  percentage_1 = (voltage - vd) / voltage
  percentage_2 = 1 - percentage_1
  final_calc = percentage_2 * 100
  vd_values.append(final_calc)
  
total = 0
for x in vd_values:
  total += x
  
print(" ")
print("Total voltage drop: %.3f%%." % total)
