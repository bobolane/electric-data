segments = int(input("Number of circuit segments: "))

if segments > 1:
  print("Ok, we will ask for values one segment at a time, providing that circuits VD%, and then give the total VD% across all circuits at the end.")
elif segments == 1:
  print("Ok, please enter the values for the circuit.")
  
print(" ")

def phase_modifier(phase):
  if phase == 1:
    return 2
  if phase == 3:
    return (3 ** .5)
def wire_modifier(wire_type):
  if wire_type == "cu":
    return 12.9
  if wire_type == "al":
    return 21.2
    
awg_to_circmils = {
  10: 10380,
  8: 16510,
  6: 26240
}

main_base_current = int(input("Current: "))
main_voltage = int(input("Voltage: "))
main_phase = int(input("Phase 1 or 3: "))


for segment in range(segments):
  print("Segment # ", segment + 1)
  base_current = main_base_current
  voltage = main_voltage
  phase = main_phase
  wire_type = input("cu or al: ")
  length = int(input("Circuit Length: "))
  awg = int(input("AWG#: "))
  try:
    wire = awg_to_circmils[awg]
  except KeyError:
    print("Unrecognized wire gauge: please try again.")

  current = base_current * phase_modifier(phase) * wire_modifier(wire_type) * length

  numerator = current
  denominator = wire

  vd = numerator / denominator
  percentage_1 = (voltage - vd) / voltage
  percentage_2 = 1 - percentage_1
  final_calc = percentage_2 * 100
  
  print("Voltage drop for this circuit segment is: %.3f%%." % final_calc)
  
print(" ")

if segments > 1:
  print("Total voltage drop across all segments: %.3f%%." % final_calc)
